{% extends "base.html" %}
{% block title %}Paramètres — FootLogic{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 py-8 page-enter">
    <!-- Header with Back Button -->
    <div class="flex items-center gap-5 mb-10">
        <a href="{{ url_for('main.profile') }}"
            class="w-10 h-10 glass rounded-xl flex items-center justify-center hover:bg-white/8 transition-all active:scale-95 border border-white/8 group">
            <i class="fa-solid fa-arrow-left text-sm group-hover:-translate-x-0.5 transition-transform"></i>
        </a>
        <div>
            <h1 class="text-2xl font-extrabold tracking-tight">Paramètres</h1>
            <p class="text-white/35 font-medium text-sm">Personnalisez votre expérience.</p>
        </div>
    </div>

    <!-- Sections -->
    <div class="space-y-8">

        <!-- Profile Identity Card -->
        <section class="glass p-6 rounded-2xl border-white/5 relative overflow-hidden group">
            <div
                class="absolute -right-16 -top-16 w-48 h-48 bg-primary-500/5 rounded-full blur-[60px] group-hover:bg-primary-500/8 transition-all duration-1000">
            </div>
            <h2
                class="text-[10px] font-semibold uppercase tracking-wider text-white/25 mb-5 px-1 flex items-center gap-2">
                <i class="fa-solid fa-id-card text-[8px]"></i>
                Identité
            </h2>

            <a href="{{ url_for('main.edit_profile') }}"
                class="flex items-center justify-between p-5 bg-white/[0.04] rounded-xl border border-white/5 hover:border-primary-500/25 transition-all duration-300 group/link relative z-10">
                <div class="flex items-center gap-5">
                    <div
                        class="w-14 h-14 rounded-2xl overflow-hidden border border-primary-500/20 group-hover/link:scale-105 transition-transform duration-300">
                        <img src="https://randomuser.me/api/portraits/men/{{ range(1,50) | random }}.jpg"
                            class="w-full h-full object-cover">
                    </div>
                    <div>
                        <p
                            class="text-base font-bold tracking-tight group-hover/link:text-primary-400 transition-colors">
                            {{ current_user.profile.first_name }} {{ current_user.profile.last_name }}</p>
                        <p class="text-[10px] text-white/25 font-semibold uppercase tracking-wider mt-0.5">Modifier
                            les informations</p>
                    </div>
                </div>
                <div
                    class="w-8 h-8 rounded-lg glass flex items-center justify-center text-white/15 group-hover/link:text-primary-400 transition-all">
                    <i class="fa-solid fa-chevron-right text-xs"></i>
                </div>
            </a>
        </section>

        <!-- Preferences & Alerts -->
        <section class="glass p-7 rounded-2xl border-white/5">
            <h2
                class="text-[10px] font-semibold uppercase tracking-wider text-white/25 mb-7 px-1 flex items-center gap-2">
                <i class="fa-solid fa-sliders text-[8px]"></i>
                Préférences & Alertes
            </h2>

            <div class="space-y-6">
                <!-- Toggle Row -->
                <div class="flex items-center justify-between group cursor-pointer">
                    <div>
                        <p class="font-bold text-sm group-hover:text-primary-400 transition-colors">
                            Notifications Push</p>
                        <p class="text-xs text-white/35 font-medium mt-0.5">Alertes instantanées sur mobile</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" checked class="sr-only peer">
                        <div
                            class="w-12 h-6 bg-white/5 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[3px] after:left-[3px] after:bg-white/20 after:border-gray-300 after:border after:rounded-full after:h-[18px] after:w-[18px] after:transition-all peer-checked:bg-primary-500 peer-checked:after:bg-white peer-checked:after:border-white shadow-inner">
                        </div>
                    </label>
                </div>

                <div class="w-full h-px bg-white/5"></div>

                <div class="flex items-center justify-between group cursor-pointer">
                    <div>
                        <p class="font-bold text-sm group-hover:text-amber-400 transition-colors">
                            Rappels de Match</p>
                        <p class="text-xs text-white/35 font-medium mt-0.5">Alertes 24h et 1h avant le coup d'envoi</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" checked class="sr-only peer">
                        <div
                            class="w-12 h-6 bg-white/5 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[3px] after:left-[3px] after:bg-white/20 after:border-gray-300 after:border after:rounded-full after:h-[18px] after:w-[18px] after:transition-all peer-checked:bg-amber-500 peer-checked:after:bg-white peer-checked:after:border-white shadow-inner">
                        </div>
                    </label>
                </div>

                <div class="w-full h-px bg-white/5"></div>

                <div class="flex items-center justify-between group cursor-pointer">
                    <div>
                        <p class="font-bold text-sm group-hover:text-primary-400 transition-colors">
                            Confidentialité Profil</p>
                        <p class="text-xs text-white/35 font-medium mt-0.5">Rendre vos statistiques visibles aux clubs
                        </p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" checked class="sr-only peer">
                        <div
                            class="w-12 h-6 bg-white/5 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[3px] after:left-[3px] after:bg-white/20 after:border-gray-300 after:border after:rounded-full after:h-[18px] after:w-[18px] after:transition-all peer-checked:bg-primary-500 peer-checked:after:bg-white peer-checked:after:border-white shadow-inner">
                        </div>
                    </label>
                </div>
            </div>
        </section>

        <!-- Customization -->
        <section class="glass p-7 rounded-2xl border-white/5">
            <h2
                class="text-[10px] font-semibold uppercase tracking-wider text-white/25 mb-6 px-1 flex items-center gap-2">
                <i class="fa-solid fa-paint-brush text-[8px]"></i>
                Interface & Design
            </h2>

            <div class="space-y-6">
                <div>
                    <p class="font-bold text-sm mb-3">Couleur d'accentuation</p>
                    <div class="flex gap-3">
                        {% set colors = [('primary', '#10b981'), ('amber', '#f59e0b'), ('blue', '#3b82f6'), ('red',
                        '#ef4444')] %}
                        {% for name, hex in colors %}
                        <button
                            class="w-10 h-10 rounded-xl border-2 border-surface-900 shadow-md hover:scale-110 transition-transform relative group {% if loop.first %}ring-2 ring-primary-500 ring-offset-2 ring-offset-surface-950{% endif %}"
                            style="background-color: {{ hex }};">
                            <i
                                class="fa-solid fa-check text-white text-[10px] opacity-0 group-hover:opacity-100 {% if loop.first %}opacity-100{% endif %} transition-opacity"></i>
                        </button>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>

        <!-- Extra Links -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            {% set extra_links = [('Aide & Support', 'fa-circle-question', '/help'), ('Confidentialité',
            'fa-shield-halved', '/privacy'), ('CGU / Licences', 'fa-file-signature', '/terms')] %}
            {% for label, icon, url in extra_links %}
            <a href="{{ url }}"
                class="glass p-5 rounded-xl border-white/5 flex items-center justify-between group hover:bg-white/[0.04] transition-all">
                <div class="flex items-center gap-3">
                    <div
                        class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-white/20 group-hover:text-white transition-colors">
                        <i class="fa-solid {{ icon }} text-sm"></i>
                    </div>
                    <span class="text-sm font-bold">{{ label }}</span>
                </div>
                <i
                    class="fa-solid fa-arrow-right-long text-[10px] text-white/10 group-hover:text-white group-hover:translate-x-1 transition-all"></i>
            </a>
            {% endfor %}
        </div>

        <!-- Logout Action -->
        <div class="pt-6">
            <a href="{{ url_for('auth.logout') }}"
                class="w-full glass p-6 rounded-2xl border-red-500/15 flex flex-col items-center gap-3 group hover:bg-red-500/5 transition-all duration-500">
                <div
                    class="w-12 h-12 rounded-xl bg-red-500/10 text-red-400 flex items-center justify-center text-lg group-hover:scale-105 transition-all duration-300 shadow-md shadow-red-500/10">
                    <i class="fa-solid fa-power-off"></i>
                </div>
                <div class="text-center">
                    <p class="font-bold text-sm text-white group-hover:text-red-400 transition-colors">
                        Déconnexion sécurisée</p>
                    <p class="text-[10px] text-white/20 font-semibold uppercase tracking-wider mt-0.5">Session FootLogic
                    </p>
                </div>
            </a>
        </div>
    </div>

    <!-- App Info Badge -->
    <div class="mt-12 text-center space-y-1">
        <p class="text-[10px] font-semibold uppercase tracking-wider text-white/10">FootLogic Platform
            v2.0.4</p>
    </div>
</div>

<style>
    .peer:checked~.peer-checked\:bg-primary-500 {
        background-color: #10b981;
    }

    .peer:checked~.peer-checked\:bg-amber-500 {
        background-color: #f59e0b;
    }
</style>
{% endblock %}